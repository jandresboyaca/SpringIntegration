
#logging.level.org.springframework.integration=DEBUG

spring.cloud.function.definition=customConsumer

spring.cloud.stream.bindings.messageConsumerStream-in-0.destination=myExchange
spring.cloud.stream.bindings.messageConsumerStream-in-0.group=myQueue


spring.cloud.stream.bindings.customConsumer-in-0.destination=exchangeA
spring.cloud.stream.bindings.customConsumer-in-0.group=myQueueA
spring.cloud.stream.rabbit.bindings.customConsumer-in-0.consumer.auto-bind-dlq=true
# See https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_retry_template
spring.cloud.stream.bindings.customConsumer-in-0.consumer.max-attempts=5
spring.cloud.stream.bindings.customConsumer-in-0.consumer.back-off-multiplier=2.0
spring.cloud.stream.bindings.customConsumer-in-0.consumer.back-off-initial-interval=1000
spring.cloud.stream.bindings.customConsumer-in-0.consumer.default-retryable=false
spring.cloud.stream.bindings.customConsumer-in-0.consumer.retryable-exceptions.com.deploysoft.cloud.exception.CustomException=true

## Relevant if you want to change names but rabbitMq already has a standard
#spring.cloud.stream.rabbit.bindings.customConsumer-in-0.consumer.dead-letter-exchange=my-dlx
#spring.cloud.stream.rabbit.bindings.customConsumer-in-0.consumer.dead-letter-queue-name=my-dlq

spring.datasource.url=jdbc:h2:file:./data/demo;AUTO_SERVER=true
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.sql.init.schema-locations=classpath:/schema.sql
spring.sql.init.data-locations=classpath:/data.sql
